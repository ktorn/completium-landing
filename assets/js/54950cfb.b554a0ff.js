(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{134:function(n,t,o){"use strict";o.r(t),o.d(t,"frontMatter",(function(){return r})),o.d(t,"metadata",(function(){return a})),o.d(t,"toc",(function(){return i})),o.d(t,"default",(function(){return p}));var c=o(3),e=(o(0),o(238));o(240),o(241),o(242);const r={id:"zcb7",title:"Interactions",sidebar_label:"Interactions",slug:"/dapp-zcb/interactions"},a={unversionedId:"dapp-zcb/zcb7",id:"dapp-zcb/zcb7",isDocsHomePage:!1,title:"Interactions",description:"Contract origination",source:"@site/docs/dapp-zcb/zcb7.md",slug:"/dapp-zcb/interactions",permalink:"/docs/dapp-zcb/interactions",editUrl:"https://github.com/edukera/completium-landing/tree/master/docs/dapp-zcb/zcb7.md",version:"current",sidebar_label:"Interactions",sidebar:"dapps",previous:{title:"Contract Compilation",permalink:"/docs/dapp-zcb/compilation"}},i=[{value:"Contract origination",id:"contract-origination",children:[]}],s={toc:i};function p({components:n,...t}){return Object(e.b)("wrapper",Object(c.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(e.b)("h2",{id:"contract-origination"},"Contract origination"),Object(e.b)("p",null,Object(e.b)("inlineCode",{parentName:"p"},"src/components/EditorBar.js")," line 42"),Object(e.b)("pre",null,Object(e.b)("code",{parentName:"pre",className:"language-js"},"const handleClick = () => {\n    ///////////////////////////////////////////////////////////////////////////\n    // FIX ME\n    // Origination 'contract'\n    ///////////////////////////////////////////////////////////////////////////\n}\n")),Object(e.b)("pre",null,Object(e.b)("code",{parentName:"pre",className:"language-js"},'tezos.wallet.originate({\n  code: ZCBContractCode,\n  init: getStorage(\n    zcbState.contractInfo.issueraccount,\n    zcbState.contractInfo.subscriberaccount,\n    (parseInt(zcbState.contractInfo.faceprice)*1000000).toString(),\n    zcbState.contractInfo.discount,\n    "100",\n    (parseInt(zcbState.contractInfo.duration)*60).toString(),\n    (parseInt(zcbState.contractInfo.period)*60).toString())\n}).send().then(op => {\n  console.log(`Waiting for confirmation of origination...`);\n  props.openSnack();\n  return op.contract()\n}).then (contract => {\n  props.closeSnack();\n  setContractAddress(contract.address);\n  console.log(`Origination completed for ${contract.address}.`);\n}).catch(error => console.log(`Error: ${JSON.stringify(error, null, 2)}`));\n')))}p.isMDXComponent=!0},240:function(n,t,o){"use strict";o(0),o(245)}}]);