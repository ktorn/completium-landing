(self.webpackChunkcompletium_landing=self.webpackChunkcompletium_landing||[]).push([[7494],{807:function(e,t,a){"use strict";a(7294),a(4996)},1210:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return d},toc:function(){return p},default:function(){return u}});var n=a(2122),r=a(9756),c=(a(7294),a(3905)),o=(a(807),a(7134),a(3079),["components"]),l={id:"escrow8",title:"Interface",sidebar_label:"Interface",slug:"/dapp-escrow/interface"},s=void 0,d={unversionedId:"dapp-escrow/escrow8",id:"dapp-escrow/escrow8",isDocsHomePage:!1,title:"Interface",description:"Storage",source:"@site/docs/dapp-escrow/escrow8.md",sourceDirName:"dapp-escrow",slug:"/dapp-escrow/interface",permalink:"/docs/dapp-escrow/interface",editUrl:"https://github.com/edukera/completium-landing/tree/master/docs/dapp-escrow/escrow8.md",version:"current",frontMatter:{id:"escrow8",title:"Interface",sidebar_label:"Interface",slug:"/dapp-escrow/interface"}},p=[{value:"Storage",id:"storage",children:[]},{value:"Entry points",id:"entry-points",children:[{value:"Transitions",id:"transitions",children:[]},{value:"Fund",id:"fund",children:[]},{value:"Complete",id:"complete",children:[]}]}],i={toc:p};function u(e){var t=e.components,a=(0,r.Z)(e,o);return(0,c.kt)("wrapper",(0,n.Z)({},i,a,{components:t,mdxType:"MDXLayout"}),(0,c.kt)("h2",{id:"storage"},"Storage"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-archetype"},"variable seller       : address = @tz1MZrh8CvYkp7BfLQMcm6mg5FvL5HRZfACw\n")),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-archetype"},"variable buyer        : address = @tz1MZrh8CvYkp7BfLQMcm6mg5FvL5HRZfACw\n")),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-archetype"},"variable taxcollector : address = @tz1MZrh8CvYkp7BfLQMcm6mg5FvL5HRZfACw\n")),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-archetype"},"variable price        : tez = 0tz\n")),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-archetype"},"constant taxrate      : rational = 20%\n")),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-archetype"},"constant securityrate : rational = 110%\n")),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-archetype"},"constant deadline     : date = now + 1d\n")),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-archetype"},"states =\n | Created initial\n | Aborted\n | Funded\n | InTransit\n | Completed\n")),(0,c.kt)("h2",{id:"entry-points"},"Entry points"),(0,c.kt)("h3",{id:"transitions"},"Transitions"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-archetype"},"transition abortCreated () {\n  called by buyer\n  from Created\n  to Aborted\n}\n")),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-archetype"},"transition abortFunded () {\n  called by buyer\n  from Funded\n  to Aborted\n}\n")),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-archetype"},"transition abort () {\n  from any\n  to Aborted when { now > deadline }\n}\n")),(0,c.kt)("h3",{id:"fund"},"Fund"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-archetype"},"transition fund () {\n  called by buyer\n  from Created\n  to Funded when { transferred >= (100% + taxrate + securityrate) * price }\n}\n")),(0,c.kt)("h3",{id:"complete"},"Complete"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-archetype"},"transition complete () {\n  called by buyer\n  from Funded\n  to Completed\n  with effect {\n    ...\n  }\n}\n")))}u.isMDXComponent=!0}}]);