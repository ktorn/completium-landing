"use strict";(self.webpackChunkcompletium_landing=self.webpackChunkcompletium_landing||[]).push([[7994],{3079:function(t,n,e){var o=e(7294),r=e(282),c=e(8500),a=e(3457),i=e(9960),s=e(4996);n.Z=function(t){var n=o.useMemo((function(){return(0,c.Z)({palette:{type:"dark"}})}),[!0]);return o.createElement("div",{style:{textAlign:"center",paddingTop:"0px",paddingBottom:"40px"}},o.createElement(a.Z,{theme:n},t.internal?o.createElement(r.Z,{variant:"outlined",size:"large",component:i.Z,to:(0,s.Z)("docs/"+t.url+"/")},t.txt):o.createElement(r.Z,{variant:"outlined",size:"large",onClick:function(){return window.open(t.url,"_blank")}},t.txt)))}},807:function(t,n,e){e(7294),e(4996)},6168:function(t,n,e){e.r(n),e.d(n,{frontMatter:function(){return i},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return l},default:function(){return u}});var o=e(7462),r=e(3366),c=(e(7294),e(3905)),a=(e(807),e(7134),e(3079),["components"]),i={id:"zcb7",title:"Interactions",sidebar_label:"Interactions",slug:"/dapp-zcb/interactions"},s=void 0,p={unversionedId:"dapp-zcb/zcb7",id:"dapp-zcb/zcb7",title:"Interactions",description:"Contract origination",source:"@site/docs/dapp-zcb/zcb7.md",sourceDirName:"dapp-zcb",slug:"/dapp-zcb/interactions",permalink:"/docs/dapp-zcb/interactions",editUrl:"https://github.com/edukera/completium-landing/tree/master/docs/dapp-zcb/zcb7.md",tags:[],version:"current",frontMatter:{id:"zcb7",title:"Interactions",sidebar_label:"Interactions",slug:"/dapp-zcb/interactions"},sidebar:"dapps",previous:{title:"Contract compilation",permalink:"/docs/dapp-zcb/compilation"}},l=[{value:"Contract origination",id:"contract-origination",children:[],level:2}],d={toc:l};function u(t){var n=t.components,e=(0,r.Z)(t,a);return(0,c.kt)("wrapper",(0,o.Z)({},d,e,{components:n,mdxType:"MDXLayout"}),(0,c.kt)("h2",{id:"contract-origination"},"Contract origination"),(0,c.kt)("p",null,(0,c.kt)("inlineCode",{parentName:"p"},"src/components/EditorBar.js")," line 42"),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-js"},"const handleClick = () => {\n    ///////////////////////////////////////////////////////////////////////////\n    // FIX ME\n    // Origination 'contract'\n    ///////////////////////////////////////////////////////////////////////////\n}\n")),(0,c.kt)("pre",null,(0,c.kt)("code",{parentName:"pre",className:"language-js"},'tezos.wallet.originate({\n  code: ZCBContractCode,\n  init: getStorage(\n    zcbState.contractInfo.issueraccount,\n    zcbState.contractInfo.subscriberaccount,\n    (parseInt(zcbState.contractInfo.faceprice)*1000000).toString(),\n    zcbState.contractInfo.discount,\n    "100",\n    (parseInt(zcbState.contractInfo.duration)*60).toString(),\n    (parseInt(zcbState.contractInfo.period)*60).toString())\n}).send().then(op => {\n  console.log(`Waiting for confirmation of origination...`);\n  props.openSnack();\n  return op.contract()\n}).then (contract => {\n  props.closeSnack();\n  setContractAddress(contract.address);\n  console.log(`Origination completed for ${contract.address}.`);\n}).catch(error => console.log(`Error: ${JSON.stringify(error, null, 2)}`));\n')))}u.isMDXComponent=!0}}]);