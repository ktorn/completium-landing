(self.webpackChunkcompletium_landing=self.webpackChunkcompletium_landing||[]).push([[5810],{4763:function(t,e,n){"use strict";n.r(e),n.d(e,{frontMatter:function(){return c},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return u},default:function(){return m}});var a=n(2122),r=n(9756),o=(n(7294),n(3905)),l=n(6742),i=["components"],c={id:"tuto3",title:"Rationals and transfers",sidebar_label:"3. Rationals & Transfers",slug:"/contract/tuto/archetype-rattrans",hide_title:!0},s=void 0,p={unversionedId:"contract/tuto/tuto3",id:"contract/tuto/tuto3",isDocsHomePage:!1,title:"Rationals and transfers",description:"Rationals & transfers",source:"@site/docs/contract/tuto/tuto3.md",sourceDirName:"contract/tuto",slug:"/contract/tuto/archetype-rattrans",permalink:"/docs/contract/tuto/archetype-rattrans",editUrl:"https://github.com/edukera/completium-landing/tree/master/docs/contract/tuto/tuto3.md",version:"current",frontMatter:{id:"tuto3",title:"Rationals and transfers",sidebar_label:"3. Rationals & Transfers",slug:"/contract/tuto/archetype-rattrans",hide_title:!0},sidebar:"contract",previous:{title:"2. Execution conditions",permalink:"/docs/contract/tuto/archetype-execcond"},next:{title:"4. Dates & Durations",permalink:"/docs/contract/tuto/archetype-datedur"}},u=[{value:"Rationals &amp; transfers",id:"rationals--transfers",children:[{value:"Deploy",id:"deploy",children:[]},{value:"Call entry point",id:"call-entry-point",children:[]},{value:"View contract",id:"view-contract",children:[]},{value:"Next",id:"next",children:[]}]}],d={toc:u};function m(t){var e=t.components,n=(0,r.Z)(t,i);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"rationals--transfers"},"Rationals & transfers"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"rational")," type is very convenient to implement business formulas."),(0,o.kt)("p",null,"In this exercise, the ",(0,o.kt)("inlineCode",{parentName:"p"},"payback")," entrypoint transfers back to the caller 70% of the transferred amount:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-archetype",metastring:'{4} title="3-rat_transfer.arl"',"{4}":!0,title:'"3-rat_transfer.arl"'},"archetype rat_transfer\n\nentry payback () {\n  transfer (70% * transferred) to caller\n}\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"caller")," refers to the account address that is calling the entry point, and ",(0,o.kt)("inlineCode",{parentName:"p"},"transferred")," refers to the amount of tez sent to call the entry point."),(0,o.kt)("p",null,"There are many ways to specify a rational value:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-archetype"},"var f : rational = 1.1;\nvar g : rational = -1.1;\nvar r : rational = 2 / 6;\nvar t : rational = -2 / 6;\nvar u : rational = 80%;\nvar v : rational = 4.2%;\n")),(0,o.kt)("h3",{id:"deploy"},"Deploy"),(0,o.kt)("p",null,"The following ",(0,o.kt)(l.Z,{to:"/docs/cli",mdxType:"Link"},"Completium CLI")," command deploys the contract on the Tezos network:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"completium-cli deploy 3-rat_transfer.arl\n")),(0,o.kt)("h3",{id:"call-entry-point"},"Call entry point"),(0,o.kt)("p",null,"The following command calls the unique entry point and sends ",(0,o.kt)("em",{parentName:"p"},"10tz")," to the contract with the ",(0,o.kt)("inlineCode",{parentName:"p"},"--amount")," option:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"completium-cli call 3-rat_transfer --entry payback --amount 10tz\n")),(0,o.kt)("h3",{id:"view-contract"},"View contract"),(0,o.kt)("p",null,"The following command generates the URL to view the contract in Better call Dev:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"completium-cli show contract 3-rat_transfer\n")),(0,o.kt)("h3",{id:"next"},"Next"),(0,o.kt)("p",null,"Open '4-time_window.arl' and click on \"Next: Dates & Durations\" below."))}m.isMDXComponent=!0}}]);