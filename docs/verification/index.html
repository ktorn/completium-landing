<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Completium Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Completium Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><title data-react-helmet="true">Formal Verification | Completium</title><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/verification"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Formal Verification | Completium"><meta data-react-helmet="true" name="description" content="Formal verification is the act of proving or disproving that a program, like a smart contract, respects its formal specification, using formal methods of mathematics."><meta data-react-helmet="true" property="og:description" content="Formal verification is the act of proving or disproving that a program, like a smart contract, respects its formal specification, using formal methods of mathematics."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/verification"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/verification" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/verification" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.1afcadec.css">
<link rel="preload" href="/assets/js/runtime~main.d5300c08.js" as="script">
<link rel="preload" href="/assets/js/main.b9ccf32e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a class="navbar__item navbar__link" href="/docs/dapp-first">First DApp</a><a class="navbar__item navbar__link" href="/dapps">DApps</a><a class="navbar__item navbar__link" href="/docs/contract">Smart Contract</a><a class="navbar__item navbar__link" href="/docs/templates">Contract Templates</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/verification">Formal Verification</a><a class="navbar__item navbar__link" href="/docs/cli">CLI</a><a class="navbar__item navbar__link" href="/docs/dapp-tools">Technical stack</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/edukera/completium-landing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/dapp-first">First DApp</a></li><li class="menu__list-item"><a class="menu__link" href="/dapps">DApps</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/contract">Smart Contract</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/templates">Contract Templates</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/verification">Formal Verification</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/cli">CLI</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dapp-tools">Technical stack</a></li><li class="menu__list-item"><a href="https://github.com/edukera/completium-landing" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/docs/verification">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/verification/tools">Tools</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Specification Guidelines</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/verification/specification">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/verification/postcondition">Postcondition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/verification/fail">Failure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/verification/invariant">Invariant</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/verification/conclusion">Conclusion</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><div style="text-align:center"><img alt="Docusaurus with Keytar" style="width:30%;padding-top:40px;padding-bottom:40px" src="/img/verification.svg"></div><p>Formal verification is the act of proving or disproving that a program, like a smart contract, respects its formal specification, using formal methods of mathematics.</p><p>A formal specification uses a formal language to describe <em>what</em> the program is supposed to do. A formal language is defined by a grammar (a set of rules that define how sentences are formed). Programming languages are also formal languages, but they say something about <em>how</em> the program does what it does.</p><p>The formal aspect of the specification makes it possible to automatically analyze whether the program verifies it or not. A fundamental result of computer science is that it is <em>not</em> possible to decide automatically whether any program verifies any specification.</p><p>The verification process is thus a mixture of automatic and manual <em>formal</em> proving steps.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="benefit"></a>Benefit<a class="hash-link" href="#benefit" title="Direct link to heading">#</a></h2><p>Consider the following program:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly archetype"><pre tabindex="0" class="prism-code language-archetype codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">function sum(n : int) = if n &gt; 0 then n + sum(n - 1) else 0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>And the formal specification <em>P</em>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly archetype"><pre tabindex="0" class="prism-code language-archetype codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">forall n, n &gt;= 0 -&gt; sum(n) = n * (n + 1) / 2</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>which reads: for every integer n, if n is above 0, then <code>sum(n)</code> is equal to n multiplied by n plus 1, divided by 2.</p><p>How to make sure that <code>sum</code> verifies <em>P</em>?</p><p>You can either write a test program that computes the <code>sum</code> function for a large range of values, say for <code>n</code> from 0 to 1000000, and checks the formula; or you can <em>mathematically</em> prove the property (with inductive reasoning for example) in a few reasoning steps.</p><p>While you may be reasonably confident in the test program, and by transtion in the <code>sum</code> function, the property is only tested on a limited set of values, and the test program may itself contain bugs. The question to decide whether the test is correct is stil not decidable on a systemic level.</p><p>With mathematic reasoning, properties are proven for any parameter value, and the confidence in the proof relies on whether it is correct or not.</p><p>Another fundamental result is that it <em>is</em> possible to automatically decide whether a proof is correct or not, as long as it is formalized. Hence the confidence you get with formal methods does not rely on the confidence you may give the developper of the program and tests, but it relies on the <em>existence</em> of a correct formal proof.</p><p>As such, formal verification provides <em>trust-less</em> confidence. That&#x27;s why it is a key point for the development of smart contracts bacuse, with smart contracts, blockchains had lost their trust-less execution feature; they claim it back with formal verification.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="limits"></a>Limits<a class="hash-link" href="#limits" title="Direct link to heading">#</a></h2><p>Formal verification is relative to the specification. It is possible that a verified program does not behave as expected if this expectation has not been formalized in the specification.</p><p>Another caveat of formal verification is the difficulty to read specification. What confidence can you have in a verified program if you do not understand its specification?</p><p>At least, the trust in the verification relies on the trust in the <a href="/docs/verification/tools">tools</a> used to build and check the proof. The set of tools that the process relies on is called the <a href="https://en.wikipedia.org/wiki/Trusted_computing_base" target="_blank" rel="noopener noreferrer">Trusted Computing Base</a>.</p><p>That&#x27;s why it is suggested to <em>complement</em> the verification approach with standard <a href="/docs/contract/test-scenario">tests</a>, especially to cover specification areas that are harder to formalize or verify.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="process"></a>Process<a class="hash-link" href="#process" title="Direct link to heading">#</a></h2><p>The formal verification process is two steps:</p><ol><li>write the formal specification of the contract</li><li>prove the contract verifies the specification with formal method systems</li></ol><p>Writing formal specification is a key step of the verification process because it defines the perimeter of the verification. This task requires knowing the technical and business context of the contract execution, in order to describe accurately the contract&#x27;s behavior.</p><p>It also requires knowing a formal specification language, which is equivalent to knowing a programming language. While there is no systemic method to write formal specification, it may follow some basic principles, presented in this <a href="/docs/verification/specification">guide</a>.</p><p>Proving that the contract verifies the specification is a technical task that requires training and skills in <a href="/docs/verification/logic">formal logic</a> and formal method <a href="/docs/verification/tools">tools</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/edukera/completium-landing/tree/master/docs/verification/verification1.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/verification/tools"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tools »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#benefit" class="table-of-contents__link">Benefit</a></li><li><a href="#limits" class="table-of-contents__link">Limits</a></li><li><a href="#process" class="table-of-contents__link">Process</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/dapp-first">First Dapp</a></li><li class="footer__item"><a class="footer__link-item" href="/dapps">DApps</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contract">Smart Contract</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/templates">Contract Templates</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/verification">Formal Verification</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cli">CLI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/dapp-tools/">Technical Stack</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://archetype-lang.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Archetype</a></li><li class="footer__item"><a href="https://www.edukera.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Edukera</a></li><li class="footer__item"><a href="https://github.com/edukera/completium-landing" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Edukera, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d5300c08.js"></script>
<script src="/assets/js/main.b9ccf32e.js"></script>
</body>
</html>