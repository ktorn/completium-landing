<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Completium Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Completium Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><title data-react-helmet="true">FA 1.2 | Completium</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="FA 1.2 | Completium"><meta data-react-helmet="true" name="description" content="Introduction"><meta data-react-helmet="true" property="og:description" content="Introduction"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/templates/fa12"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/templates/fa12"><link rel="stylesheet" href="/styles.12545298.css">
<link rel="preload" href="/styles.822531e8.js" as="script">
<link rel="preload" href="/runtime~main.e2cd6db8.js" as="script">
<link rel="preload" href="/main.bc5039f6.js" as="script">
<link rel="preload" href="/common.d577e2d7.js" as="script">
<link rel="preload" href="/2.d88450da.js" as="script">
<link rel="preload" href="/160.61e57ee5.js" as="script">
<link rel="preload" href="/161.908bf7e8.js" as="script">
<link rel="preload" href="/935f2afb.b2db7189.js" as="script">
<link rel="preload" href="/155.31ce02db.js" as="script">
<link rel="preload" href="/3.3d52db8e.js" as="script">
<link rel="preload" href="/4.63a01b5b.js" as="script">
<link rel="preload" href="/7c2d70ac.d5908cbd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a><a class="navbar__item navbar__link" href="/docs/dapp-first">First DApp</a><a class="navbar__item navbar__link" href="/dapps">DApps</a><a class="navbar__item navbar__link" href="/docs/contract">Smart Contract</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/templates">Contract Templates</a><a class="navbar__item navbar__link" href="/docs/cli">CLI</a><a class="navbar__item navbar__link" href="/docs/dapp-tools">Technical stack</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/edukera/completium-landing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/dapp-first">First DApp</a></li><li class="menu__list-item"><a class="menu__link" href="/dapps">DApps</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/contract">Smart Contract</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/templates">Contract Templates</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/cli">CLI</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/dapp-tools">Technical stack</a></li><li class="menu__list-item"><a href="https://github.com/edukera/completium-landing" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/templates">Presentation</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Fungible Token</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/templates/fa12">FA 1.2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/templates/erc20">ERC20</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Non-Fungible Token</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/templates/nft">FA 2</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">DeFi</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/templates/zcb">Zero-Coupon bond</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/templates/dex">DEX</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/templates/ico">ICO</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/templates/acn">Autocallable note</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Payment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/templates/escrow">Escrow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/templates/miles">Miles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/templates/iot">Connected Object</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/templates/healthcare">Health care</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Governance</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/templates/ideabox">Idea box</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/templates/competition">Competition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/templates/auction">Auction</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">FA 1.2</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>A fungible token is basically an association table between the token owner (the account address) and the amount of tokens (a natural integer). It is possible to allow another account to transfer tokens on your behalf.</p><p>This contract follows the <a href="https://assets.tqtezos.com/docs/token-contracts/fa12/1-fa12-intro/" target="_blank" rel="noopener noreferrer">Financial Asset 1.2</a> (FA 1.2) <a href="https://gitlab.com/tzip/tzip/blob/master/proposals/tzip-7/tzip-7.md" target="_blank" rel="noopener noreferrer">TZIP 7</a> specification for fungible token on Tezos.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="api"></a>API<a class="hash-link" href="#api" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="storage"></a>Storage<a class="hash-link" href="#storage" title="Direct link to heading">#</a></h3><table><thead><tr><th>Name</th><th>Type</th><th>Desc</th></tr></thead><tbody><tr><td><code>totalsupply</code></td><td><code>nat</code></td><td>Total number of tokens.</td></tr><tr><td><code>ledger</code></td><td><code>collection</code></td><td>Association between token holder and number of tokens.</td></tr><tr><td><code>allowance</code></td><td><code>collection</code></td><td>Association between the pair owner and spender and the allowed amount.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="entrypoints"></a>Entrypoints<a class="hash-link" href="#entrypoints" title="Direct link to heading">#</a></h3><table><thead><tr><th>Name</th><th>Parameters</th><th>Desc</th></tr></thead><tbody><tr><td><code>transfer</code></td><td><code>from</code>, <code>to</code>, <code>value</code></td><td>Transfers <code>value</code> tokens from <code>from</code> to <code>to</code>. If the <em>caller</em> is not equal to <code>from</code>, then <em>caller</em> must have been allowed by <code>from</code> to transfer this amount to <code>to</code>.</td></tr><tr><td><code>approve</code></td><td><code>spender</code>, <code>value</code></td><td>Approves <code>spender</code> to transfer <code>value</code> tokens from <em>caller</em>.</td></tr><tr><td><code>getAllowance</code></td><td><code>owner</code>, <code>spender</code></td><td>Getter for the allowed value for <code>owner</code> and <code>spender</code>.</td></tr><tr><td><code>getBalance</code></td><td><code>owner</code></td><td>Getter for the number of tokens owned by <code>owner</code>.</td></tr><tr><td><code>getTotalSupply</code></td><td></td><td>Getter for <code>totalsupply</code></td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="originate"></a>Originate<a class="hash-link" href="#originate" title="Direct link to heading">#</a></h2><p>Originate a FA 1.2 contract with the widget below.</p><p>Click &quot;Connect to Wallet&quot; button, fill the fields &quot;Initial Holder&quot; and &quot;Total Supply&quot;, and click &quot;Originate&quot;.</p><div class="MuiPaper-root MuiCard-root MuiPaper-elevation1 MuiPaper-rounded" style="background-color:transparent;border:1px solid #606770;margin-top:20px;margin-bottom:20px"><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-3" style="padding:22px"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-6"><div class="MuiFormControl-root MuiTextField-root MuiFormControl-fullWidth"><label class="MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-outlined Mui-required Mui-required" data-shrink="false" for="initalholder" id="initalholder-label">Initial Holder<span aria-hidden="true" class="MuiFormLabel-asterisk MuiInputLabel-asterisk"> *</span></label><div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth MuiInputBase-formControl"><input aria-invalid="0" id="initalholder" required="" class="MuiInputBase-input MuiOutlinedInput-input"><fieldset aria-hidden="true" class="jss3 MuiOutlinedInput-notchedOutline"><legend class="jss5"><span>Initial Holder *</span></legend></fieldset></div></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-6" style="text-align:center;margin-top:10px"><div class="MuiGrid-root MuiGrid-container"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-8"><a class="MuiTypography-root MuiLink-root MuiLink-underlineNone MuiTypography-colorPrimary" href="https://templewallet.com/" rel="noopener"><button class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-disableElevation" tabindex="0" type="button" style="background-color:#ed8936;color:white;font-weight:bold"><span class="MuiButton-label">install Temple</span></button></a></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-2"><span class="MuiSwitch-root"><span class="MuiButtonBase-root MuiIconButton-root jss7 MuiSwitch-switchBase MuiSwitch-colorPrimary" aria-disabled="false"><span class="MuiIconButton-label"><input type="checkbox" class="jss10 MuiSwitch-input" name="checkedB"><span class="MuiSwitch-thumb"></span></span></span><span class="MuiSwitch-track"></span></span></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-2"><h6 class="MuiTypography-root MuiTypography-subtitle2" style="margin-top:8px">Mainnet</h6></div></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-6"><div class="MuiFormControl-root MuiTextField-root MuiFormControl-fullWidth"><label class="MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiInputLabel-outlined MuiFormLabel-filled Mui-required Mui-required" data-shrink="true" for="totalsupply" id="totalsupply-label">Total Supply<span aria-hidden="true" class="MuiFormLabel-asterisk MuiInputLabel-asterisk"> *</span></label><div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth MuiInputBase-formControl"><input type="number" aria-invalid="false" id="totalsupply" required="" value="10000000" class="MuiInputBase-input MuiOutlinedInput-input"><fieldset aria-hidden="true" class="jss3 MuiOutlinedInput-notchedOutline"><legend class="jss5 jss6"><span>Total Supply *</span></legend></fieldset></div></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-6" style="text-align:center;margin-top:10px"><button class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-disableElevation Mui-disabled Mui-disabled" tabindex="-1" type="button" disabled=""><span class="MuiButton-label">originate</span></button></div></div><div class="MuiPaper-root MuiAccordion-root MuiAccordion-rounded MuiPaper-elevation1 MuiPaper-rounded" style="background-color:transparent"><div class="MuiButtonBase-root MuiAccordionSummary-root" tabindex="0" role="button" aria-disabled="false" aria-expanded="false" aria-controls="panel4bh-content" id="panel4bh-header"><div class="MuiAccordionSummary-content"><p class="MuiTypography-root MuiTypography-body1" style="margin-left:10px">Metadata</p></div><div class="MuiButtonBase-root MuiIconButton-root MuiAccordionSummary-expandIcon MuiIconButton-edgeEnd" aria-disabled="false" aria-hidden="true"><span class="MuiIconButton-label"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg></span></div></div><div class="MuiCollapse-container MuiCollapse-hidden" style="min-height:0px"><div class="MuiCollapse-wrapper"><div class="MuiCollapse-wrapperInner"><div aria-labelledby="panel4bh-header" id="panel4bh-content" role="region"><div class="MuiAccordionDetails-root"><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-3" style="margin-left:0px"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-6"><div class="MuiFormControl-root MuiTextField-root MuiFormControl-fullWidth"><label class="MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiInputLabel-outlined MuiFormLabel-filled Mui-required Mui-required" data-shrink="true" for="symbol" id="symbol-label">Symbol<span aria-hidden="true" class="MuiFormLabel-asterisk MuiInputLabel-asterisk"> *</span></label><div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth MuiInputBase-formControl"><input aria-invalid="false" aria-describedby="symbol-helper-text" id="symbol" required="" value="CMPL" class="MuiInputBase-input MuiOutlinedInput-input"><fieldset aria-hidden="true" class="jss3 MuiOutlinedInput-notchedOutline"><legend class="jss5 jss6"><span>Symbol *</span></legend></fieldset></div><p class="MuiFormHelperText-root MuiFormHelperText-contained MuiFormHelperText-filled Mui-required" id="symbol-helper-text">Token symbol, like &#x27;USD&#x27; for United States Dollar.</p></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-6"><div class="MuiFormControl-root MuiTextField-root MuiFormControl-fullWidth"><label class="MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiInputLabel-outlined MuiFormLabel-filled Mui-required Mui-required" data-shrink="true" for="name" id="name-label">Name<span aria-hidden="true" class="MuiFormLabel-asterisk MuiInputLabel-asterisk"> *</span></label><div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth MuiInputBase-formControl"><input aria-invalid="false" aria-describedby="name-helper-text" id="name" required="" value="Completium Token" class="MuiInputBase-input MuiOutlinedInput-input"><fieldset aria-hidden="true" class="jss3 MuiOutlinedInput-notchedOutline"><legend class="jss5 jss6"><span>Name *</span></legend></fieldset></div><p class="MuiFormHelperText-root MuiFormHelperText-contained MuiFormHelperText-filled Mui-required" id="name-helper-text">Token name, like &#x27;Bitcoin&#x27; for BTC asset.</p></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-6"><div class="MuiFormControl-root MuiTextField-root MuiFormControl-fullWidth"><label class="MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiInputLabel-outlined MuiFormLabel-filled Mui-required Mui-required" data-shrink="true" for="decimals" id="decimals-label">Decimals<span aria-hidden="true" class="MuiFormLabel-asterisk MuiInputLabel-asterisk"> *</span></label><div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth MuiInputBase-formControl"><input type="number" aria-invalid="false" aria-describedby="decimals-helper-text" id="decimals" required="" value="1" class="MuiInputBase-input MuiOutlinedInput-input"><fieldset aria-hidden="true" class="jss3 MuiOutlinedInput-notchedOutline"><legend class="jss5 jss6"><span>Decimals *</span></legend></fieldset></div><p class="MuiFormHelperText-root MuiFormHelperText-contained MuiFormHelperText-filled Mui-required" id="decimals-helper-text">A number of decimal places after point.</p></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-6"><div class="MuiFormControl-root MuiTextField-root MuiFormControl-fullWidth"><label class="MuiFormLabel-root MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-shrink MuiInputLabel-outlined MuiFormLabel-filled Mui-required Mui-required" data-shrink="true" for="url" id="url-label">Icon URL<span aria-hidden="true" class="MuiFormLabel-asterisk MuiInputLabel-asterisk"> *</span></label><div class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-fullWidth MuiInputBase-formControl"><input aria-invalid="false" aria-describedby="url-helper-text" id="url" required="" value="https://completium.com/img/logo_completium_128.png" class="MuiInputBase-input MuiOutlinedInput-input"><fieldset aria-hidden="true" class="jss3 MuiOutlinedInput-notchedOutline"><legend class="jss5 jss6"><span>Icon URL *</span></legend></fieldset></div><p class="MuiFormHelperText-root MuiFormHelperText-contained MuiFormHelperText-filled Mui-required" id="url-helper-text">Image URL for token logo.</p></div></div></div></div></div></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="command-line"></a>Command line<a class="hash-link" href="#command-line" title="Direct link to heading">#</a></h3><p>Originate the contract from <a href="https://archetype-lang.org/" target="_blank" rel="noopener noreferrer">Archetype</a> code below with the following <a href="/docs/cli">Completium CLI</a> example command:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">completium-cli deploy fa12.arl --init &#x27;(@tz1LLJ3nxbpGGMLmjzcp9sTMYui87tycG6nG, 10_000_000)&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The command sets:</p><ul><li><code>initialholder</code> constant to <code>tz1LLJ3nxbpGGMLmjzcp9sTMYui87tycG6nG</code></li><li><code>totalsupply</code> variable to 10 millions</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="code"></a>Code<a class="hash-link" href="#code" title="Direct link to heading">#</a></h2><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>The Archetype FA 1.2 code has been <a href="https://assets.tqtezos.com/docs/token-contracts/fa12/4-fa12-archetype/" target="_blank" rel="noopener noreferrer">verified</a> towards the formal specification presented below.</p></div></div><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1shy tabs__item--active">Archetype</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1shy">Michelson</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1shy">Specification</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="mdxCodeBlock_1zKU"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_2eSY">fa12.arl</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-archetype codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">archetype fa12(const initialholder: address, totalsupply : nat)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">asset allowance identified by addr_owner addr_spender to big_map {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  addr_owner       : address;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  addr_spender     : address;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  amount           : nat;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">asset ledger identified by holder to big_map {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  holder     : address;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  tokens     : nat = 0;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">} initialized by {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  { holder = initialholder; tokens = totalsupply }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">entry %transfer (%from : address, %to : address, value : nat) {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  require {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    r1 otherwise &quot;NotEnoughBalance&quot; : ledger[%from].tokens &gt;= value;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  effect {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    if caller &lt;&gt; %from then (</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      var current = allowance[(%from, caller)].amount;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      dofailif(current &lt; value, (&quot;NotEnoughAllowance&quot;, ((value, current))));</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      allowance.update((%from, caller), { amount -=  value });</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    );</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    ledger.update(%from, { tokens -= value });</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    ledger.addupdate(%to, { tokens += value });</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">entry approve(spender : address, value : nat) {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  var k = (caller, spender);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  if allowance.contains(k) then (</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    var previous = allowance[k].amount;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    dofailif(previous &gt; 0 and value &gt; 0, ((&quot;UnsafeAllowanceChange&quot;, previous)));</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  );</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  allowance.addupdate( k, { amount = value });</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">getter getAllowance (owner : address, spender : address) : nat {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  return (allowance[(owner, spender)].amount)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">getter getBalance (owner : address) : nat {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  return (if (ledger.contains(owner)) then ledger[owner].tokens else 0)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">getter getTotalSupply () : nat {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  return totalsupply</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>The <a href="/docs/contract/programming-language#micheslon">Michelson</a> code is generated with version 1.2.3 of Archetype.</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-js codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain"># </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token maybe-class-name">Pair</span><span class="token plain"> </span><span class="token number">10000000</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token maybe-class-name">Pair</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token maybe-class-name">Pair</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token maybe-class-name">Elt</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;tz1LLJ3nxbpGGMLmjzcp9sTMYui87tycG6nG&quot;</span><span class="token plain"> </span><span class="token number">10000000</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token maybe-class-name">Elt</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;&quot;</span><span class="token plain"> </span><span class="token number">0x68747470733a2f2f636f6d706c657469756d2e636f6d2f6d657461646174612f666131322e6a736f6e</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 200, 123)">storage</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 200, 123)">pair</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">nat </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain">totalsupply</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 200, 123)">pair</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">big_map </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token function" style="color:rgb(80, 200, 123)">allowance</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pair address address</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> nat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 200, 123)">pair</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">big_map </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain">ledger address nat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">big_map </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain">metadata string bytes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token function" style="color:rgb(80, 200, 123)">parameter</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 200, 123)">or</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pair </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token function" style="color:rgb(80, 200, 123)">getAllowance</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 200, 123)">pair</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">address </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain">owner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">address </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain">spender</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">contract nat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 200, 123)">or</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pair </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token function" style="color:rgb(80, 200, 123)">getBalance</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">address </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain">owner</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">contract nat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 200, 123)">or</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pair </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain">getTotalSupply </span><span class="token function" style="color:rgb(80, 200, 123)">unit</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">contract nat</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 200, 123)">or</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pair </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token function" style="color:rgb(80, 200, 123)">transfer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">address </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token keyword module" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token function" style="color:rgb(80, 200, 123)">pair</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">address </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">nat </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pair </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token function" style="color:rgb(80, 200, 123)">approve</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">address </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain">spender</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">nat </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  code </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">NIL</span><span class="token plain"> operation</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token constant" style="color:rgb(189, 147, 249)">UNPAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">UNPAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">UNPAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">UNPAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">         </span><span class="token constant" style="color:rgb(189, 147, 249)">IF_LEFT</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">UNPAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">UNPAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">AMOUNT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">9</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">GET</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">IF_NONE</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;GetNoneValue&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">TRANSFER_TOKENS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">CONS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">             </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">IF_LEFT</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">UNPAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">AMOUNT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">MEM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">IF</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">GET</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">IF_NONE</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                       </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;GetNoneValue&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                       </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> nat </span><span class="token number">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">TRANSFER_TOKENS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">CONS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DIP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                 </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">IF_LEFT</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">UNPAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">AMOUNT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">TRANSFER_TOKENS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">CONS</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DIP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                     </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                   </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">IF_LEFT</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                       </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">UNPAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">UNPAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">GET</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">IF_NONE</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;GetNoneValue&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">COMPARE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">GE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">NOT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">IF</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;NotEnoughBalance&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SENDER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">COMPARE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">NEQ</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">IF</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">SENDER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">GET</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">IF_NONE</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;GetNoneValue&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">COMPARE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">LT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">IF</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;NotEnoughAllowance&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">SENDER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">GET</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">IF_NONE</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;GetNoneValue&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> int </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">INT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">SUB</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">COMPARE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">GE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">IF</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">INT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">SUB</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">ABS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;AssignNat&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">SOME</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">SENDER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">8</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">UPDATE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token number">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">GET</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">IF_NONE</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;GetNoneValue&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> int </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">INT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SUB</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">COMPARE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">GE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">IF</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">INT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">SUB</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">ABS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;AssignNat&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SOME</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">UPDATE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">MEM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">IF</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">GET</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">IF_NONE</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;GetNoneValue&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">ADD</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">SOME</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">UPDATE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">MEM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">IF</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;KeyAlreadyExists&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> nat </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">ADD</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">SOME</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">UPDATE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DIP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">4</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                       </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">UNPAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SENDER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">MEM</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">IF</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">GET</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">IF_NONE</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;GetNoneValue&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> nat </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">4</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">COMPARE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">GT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> nat </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">COMPARE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">GT</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">AND</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">IF</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">PUSH</span><span class="token plain"> string </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;UnsafeAllowanceChange&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                                 </span><span class="token constant" style="color:rgb(189, 147, 249)">FAILWITH</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                               </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                             </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                           </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SOME</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">UPDATE</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DUG</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DROP</span><span class="token plain"> </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">SWAP</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">DIG</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                         </span><span class="token constant" style="color:rgb(189, 147, 249)">PAIR</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="mdxCodeBlock_1zKU"><div style="color:#F8F8F2;background-color:#282A36" class="codeBlockTitle_2eSY">fa12.arl</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-archetype codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">specification {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  s1: ledger.sum(tokens) = totalsupply;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">specification entry %transfer (%from : address, %to : address, value : nat) {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  fails {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    f0 with (msg : string) :</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      let some after_ledger_from = ledger[%from] in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        msg = &quot;NotEnoughBalance&quot; and</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        after_ledger_from.tokens &lt; value</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      otherwise true;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    f1 with (msg : string * (nat * nat)) :</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      let some after_allowance_from_caller = allowance[(%from,caller)] in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        msg = (&quot;NotEnoughAllowance&quot;, ((value, after_allowance_from_caller.amount))) and</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        caller &lt;&gt; %from and</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        after_allowance_from_caller.amount &lt; value</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      otherwise false;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  (* LEDGER ASSET *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition transfer_p1 { (* effect on %from nbtokens *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    %from &lt;&gt; %to -&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    let some before_ledger_from = before.ledger[%from] in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    let some after_ledger_from  = ledger[%from] in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    after_ledger_from = { before_ledger_from with</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      tokens = abs (before_ledger_from.tokens - value)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    otherwise false otherwise false</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition transfer_p2 { (* effect on %to nbtokens *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    %from &lt;&gt; %to -&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    let some after_ledger_to = ledger[%to] in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    let some before_ledger_to = before.ledger[%to] in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      after_ledger_to = { before_ledger_to with</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        tokens = (before_ledger_to.tokens + value)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    otherwise</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      after_ledger_to = { holder = %to; tokens = value }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    otherwise false (* %to ledger asset exists after transfer *) r</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition transfer_p3 {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    %from = %to -&gt; ledger = before.ledger</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition transfer_p4 { (* other ledger assets are unchanged *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    forall tokenholder in ledger,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      tokenholder.holder &lt;&gt; %from -&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      tokenholder.holder &lt;&gt; %to -&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      before.ledger[tokenholder.holder] = some(tokenholder)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition transfer_p5 { (* no ledger asset is removed *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    removed.ledger.isempty()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition transfer_p6 { (* number of added asset may be one *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    let some before_to = before.ledger[%to] in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      added.ledger.isempty()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    otherwise</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      added.ledger = [ { holder = %to; tokens = value } ]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  (* ALLOWANCE ASSET *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition transfer_p7 { (* effect on allowance *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    caller &lt;&gt; %from -&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    let some before_from_caller = before.allowance[(%from,caller)] in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    let some after_from_caller = allowance[(%from,caller)] in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      before_from_caller.amount &gt; value -&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      after_from_caller = { before_from_caller with</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        amount = abs (before_from_caller.amount - value)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    otherwise false</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    otherwise true</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition transfer_p8 { (* effect on allowance *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    caller = %from -&gt; allowance = before.allowance</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition transfer_p9 { (* other allowance assets are unchanged *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    forall a in allowance,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      a.addr_owner &lt;&gt; %from and a.addr_spender &lt;&gt; caller -&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      before.allowance[(a.addr_owner, a.addr_spender)] = some(a)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition transfer_p10 { (* no allowance is added or removed *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    removed.allowance.isempty() and added.allowance.isempty()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition transfer_p11 { (* no operation generated *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    length (operations) = 0</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">specification entry approve(spender : address, value : nat) {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  fails {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    f2 with (msg : (string * nat)) :</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      let some allowance_caller_spender = allowance[(caller, spender)] in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        msg = (&quot;UnsafeAllowanceChange&quot;, allowance_caller_spender.amount) and</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        value &gt; 0 and</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        allowance_caller_spender.amount &gt; 0</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      otherwise false;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition approve_p1 { (* effect on allowance asset *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    let some after_allowance_caller_spender = allowance[(caller,spender)] in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    let some before_allowance_caller_spender = before.allowance[(caller,spender)] in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      after_allowance_caller_spender = { before_allowance_caller_spender with</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        amount = value</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    otherwise</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      after_allowance_caller_spender = { addr_owner = caller; addr_spender = spender; amount = value }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    otherwise false</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition approve_p2 { (* other allowance assets are unchanged *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    forall a in allowance,</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      (a.addr_owner, a.addr_spender) &lt;&gt; (caller, spender) -&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      before.allowance[(a.addr_owner, a.addr_spender)] = some(a)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition approve_p3 { (* added allowance *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    let some allowance_caller_spender = before.allowance[(caller, spender)] in</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      added.allowance.isempty()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    otherwise</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      added.allowance = [ { addr_owner = caller; addr_spender = spender; amount = value } ]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition approve_p4 { (* no allowance asset is removed *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    removed.allowance.isempty()</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition approve_p5 {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    ledger = before.ledger</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition approve_p6 { (*  no operation generated *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    length (operations) = 0</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">specification getter getAllowance (owner : address, spender : address) {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition getallowance_p1 { (* creates one op *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    length (operations) = 1</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition getallowance_p2 { (* assets are unchanged *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    ledger = before.ledger and allowance = before.allowance</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">specification getter getBalance (owner : address) {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition getbalance_p1 { (* creates one op *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    length (operations) = 1</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition getbalance_p2 { (* assets are unchanged *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    ledger = before.ledger and allowance = before.allowance</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">specification getter getTotalSupply () {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition gettotalsupply_p1 { (* creates one op *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    length (operations) = 1</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  postcondition gettotalsupply_p2 { (* assets are unchanged *)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    ledger = before.ledger and allowance = before.allowance</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/edukera/completium-landing/tree/master/docs/templates/template1.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/templates"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Presentation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/templates/erc20"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ERC20 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#api" class="table-of-contents__link">API</a><ul><li><a href="#storage" class="table-of-contents__link">Storage</a></li><li><a href="#entrypoints" class="table-of-contents__link">Entrypoints</a></li></ul></li><li><a href="#originate" class="table-of-contents__link">Originate</a><ul><li><a href="#command-line" class="table-of-contents__link">Command line</a></li></ul></li><li><a href="#code" class="table-of-contents__link">Code</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/dapp-first">First Dapp</a></li><li class="footer__item"><a class="footer__link-item" href="/dapps">DApps</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contract">Smart Contract</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/templates">Contract Templates</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/cli">CLI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/dapp-tools/">Technical Stack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://archetype-lang.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Archetype</a></li><li class="footer__item"><a href="https://www.edukera.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Edukera</a></li><li class="footer__item"><a href="https://github.com/edukera/completium-landing" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Edukera, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.822531e8.js"></script>
<script src="/runtime~main.e2cd6db8.js"></script>
<script src="/main.bc5039f6.js"></script>
<script src="/common.d577e2d7.js"></script>
<script src="/2.d88450da.js"></script>
<script src="/160.61e57ee5.js"></script>
<script src="/161.908bf7e8.js"></script>
<script src="/935f2afb.b2db7189.js"></script>
<script src="/155.31ce02db.js"></script>
<script src="/3.3d52db8e.js"></script>
<script src="/4.63a01b5b.js"></script>
<script src="/7c2d70ac.d5908cbd.js"></script>
</body>
</html>