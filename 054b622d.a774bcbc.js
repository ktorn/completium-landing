(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{76:function(e,t,c){"use strict";c.r(t),c.d(t,"frontMatter",(function(){return r})),c.d(t,"metadata",(function(){return i})),c.d(t,"toc",(function(){return b})),c.d(t,"default",(function(){return s}));var a=c(3),n=c(7),o=(c(0),c(224)),l=c(225),r={id:"cli3",title:"Contract",sidebar_label:"Contract",slug:"/cli/contract"},i={unversionedId:"cli/cli3",id:"cli/cli3",isDocsHomePage:!1,title:"Contract",description:"Deploy / originate",source:"@site/docs/cli/cli3.md",slug:"/cli/contract",permalink:"/docs/cli/contract",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/cli/cli3.md",version:"current",sidebar_label:"Contract",sidebar:"cli",previous:{title:"Account",permalink:"/docs/cli/account"}},b=[{value:"Deploy / originate",id:"deploy--originate",children:[]},{value:"Show",id:"show",children:[{value:"Info",id:"info",children:[]},{value:"All contracts",id:"all-contracts",children:[]},{value:"Source",id:"source",children:[]},{value:"Entries",id:"entries",children:[]}]},{value:"Call",id:"call",children:[]},{value:"Generate javascript",id:"generate-javascript",children:[]}],p={toc:b};function s(e){var t=e.components,c=Object(n.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},p,c,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"deploy--originate"},"Deploy / originate"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"$ completium-cli deploy <FILE.arl> \\\n    [--as <ACCOUNT_ALIAS>] \\\n    [--named <CONTRACT_ALIAS>] \\\n    [--amount <AMOUNT>(tz|utz)] \\\n    [--burn-cap <BURN_CAP>] \\\n    [--metadata-storage <PATH_TO_JSON> | --metadata-uri <VALUE_URI>]\n    [--force]\n")),Object(o.b)("p",null,"For example:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"$ completium-cli deploy mycontract.arl --amount 15.5tz\n")),Object(o.b)("p",null,"This creates a contract alias ",Object(o.b)("inlineCode",{parentName:"p"},"mycontract"),"."),Object(o.b)("p",null,"One way to set ",Object(o.b)("em",{parentName:"p"},"metadata")," is to provide a json file as the ",Object(o.b)("inlineCode",{parentName:"p"},"--metadata-storage")," argument."),Object(o.b)("p",null,"For example the following metadata file:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'$ cat fa12_metadata.json\n{\n  "symbol": "MTK",\n  "name": "MyToken",\n  "decimals": "1",\n  "description": "description of MyToken",\n  "thumbnailUri": "https://completium.com/img/logo_completium_128.png"\n}\n')),Object(o.b)("p",null,"Then the command to deploy the FA 1.2 contract:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"$ completium-cli deploy fa12.arl --metadata-storage fa12_metadata.json\n")),Object(o.b)("h2",{id:"show"},"Show"),Object(o.b)("h3",{id:"info"},"Info"),Object(o.b)("p",null,"It is possible to show data related to a contract alias:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"$ completium-cli show contract <CONTRACT_ALIAS>\n")),Object(o.b)("p",null,"For example:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"$ completium-cli show contract demo\nName:     demo\nNetwork:  edo\nAddress:  KT1CQmaCLLdEQ3X9PmxoqEAy3Xusvs1J5wW1\nSource:   /home/dev/.completium/sources/demo.arl\nLanguage: archetype\nVersion:  1.2.2\nUrl:      https://better-call.dev/edo2net/KT1CQmaCLLdEQ3X9PmxoqEAy3Xusvs1J5wW1\n")),Object(o.b)("h3",{id:"all-contracts"},"All contracts"),Object(o.b)("p",null,"The following command lists all contracts managed by ",Object(o.b)("inlineCode",{parentName:"p"},"$completium-cli"),":"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"completium-cli show contracts\n")),Object(o.b)("h3",{id:"source"},"Source"),Object(o.b)("p",null,"It is possible to show the contract source with:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"$ completium-cli show source <CONTRACT_ALIAS>\n")),Object(o.b)("h3",{id:"entries"},"Entries"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"completium-cli show entries <CONTRACT_ADDRESS|CONTRACT_ALIAS>\n")),Object(o.b)("p",null,"The command also works with a remote contract address:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"completium-cli show entries KT1EFgRdrT4r6QLx2riZiPNHjo7gcQM8n7f7\n%confirm (_ : unit)\n%submit (%ckey : address, %pscore : int)\n%decide (_ : unit)\n")),Object(o.b)("h2",{id:"call"},"Call"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"$ completium-cli call <CONTRACT_ADDRESS|CONTRACT_ALIAS> \\\n  [--as <ACCOUNT_ALIAS>] \\\n  [--entry <ENTRYPOINT>] \\\n  [--with <ARG>] \\\n  [--amount <AMOUNT>(tz|utz)]\n")),Object(o.b)("p",null,"For example, if ",Object(o.b)("inlineCode",{parentName:"p"},"mycontract.arl")," defines an entry point ",Object(o.b)("inlineCode",{parentName:"p"},"payback"),":"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-archetype"}),"entry payback (n : int) {\n  // ...\n}\n")),Object(o.b)("p",null,"The command to call the entry is:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"$ completium-cli call mycontract --entry payback --with 5\n")),Object(o.b)("h2",{id:"generate-javascript"},"Generate javascript"),Object(o.b)("p",null,"The javascript verion of the contract is required when a DApp is originating the contract using ",Object(o.b)(l.a,{to:"/docs/dapp-tools/taquito",mdxType:"Link"},"Taquito"),"."),Object(o.b)("p",null,"The command to generate the javascript version is:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"completium-cli generate javascript <FILE.arl|CONTRACT_ALIAS>\n")),Object(o.b)("p",null,"For example:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"$ completium-cli generate javascript mycontract.arl > mycontract.js\n")),Object(o.b)("p",null,"The generated ",Object(o.b)("inlineCode",{parentName:"p"},"mycontract.js")," file exports:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"the Micheline/Json ",Object(o.b)("inlineCode",{parentName:"li"},"code")," of the contract"),Object(o.b)("li",{parentName:"ul"},"the ",Object(o.b)("inlineCode",{parentName:"li"},"getStorage")," method to build the initial storage")),Object(o.b)("p",null,"See ",Object(o.b)(l.a,{to:"/docs/dapp-tools/taquito#contract-origination",mdxType:"Link"},"here")," an example of how to use in a DApp."))}s.isMDXComponent=!0}}]);