(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{128:function(t,e,n){"use strict";n.r(e),n.d(e,"frontMatter",(function(){return l})),n.d(e,"metadata",(function(){return i})),n.d(e,"toc",(function(){return s})),n.d(e,"default",(function(){return b}));var a=n(3),r=n(7),o=(n(0),n(235)),c=n(236),l={id:"tuto3",title:"Rationals and transfers",sidebar_label:"3. Rationals & Transfers",slug:"/contract/tuto/archetype-rattrans",hide_title:!0},i={unversionedId:"contract/tuto/tuto3",id:"contract/tuto/tuto3",isDocsHomePage:!1,title:"Rationals and transfers",description:"Rationals & transfers",source:"@site/docs/contract/tuto/tuto3.md",slug:"/contract/tuto/archetype-rattrans",permalink:"/docs/contract/tuto/archetype-rattrans",editUrl:"https://github.com/edukera/completium-landing/tree/master/docs/contract/tuto/tuto3.md",version:"current",sidebar_label:"3. Rationals & Transfers",sidebar:"contract",previous:{title:"Execution Conditions",permalink:"/docs/contract/tuto/archetype-execcond"},next:{title:"Dates and durations",permalink:"/docs/contract/tuto/archetype-datedur"}},s=[{value:"Rationals &amp; transfers",id:"rationals--transfers",children:[{value:"Deploy",id:"deploy",children:[]},{value:"Call entry point",id:"call-entry-point",children:[]},{value:"View contract",id:"view-contract",children:[]},{value:"Next",id:"next",children:[]}]}],p={toc:s};function b(t){var e=t.components,n=Object(r.a)(t,["components"]);return Object(o.b)("wrapper",Object(a.a)({},p,n,{components:e,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"rationals--transfers"},"Rationals & transfers"),Object(o.b)("p",null,"The ",Object(o.b)("inlineCode",{parentName:"p"},"rational")," type is very convenient to implement business formulas."),Object(o.b)("p",null,"In this exercise, the ",Object(o.b)("inlineCode",{parentName:"p"},"payback")," entrypoint transfers back to the caller 70% of the transferred amount:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-archetype",metastring:'{4} title="3-rat_transfer.arl"',"{4}":!0,title:'"3-rat_transfer.arl"'}),"archetype rat_transfer\n\nentry payback () {\n  transfer (70% * transferred) to caller\n}\n")),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"caller")," refers to the account address that is calling the entry point, and ",Object(o.b)("inlineCode",{parentName:"p"},"transferred")," refers to the amount of tez sent to call the entry point."),Object(o.b)("p",null,"There are many ways to specify a rational value:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-archetype"}),"var f : rational = 1.1;\nvar g : rational = -1.1;\nvar r : rational = 2 / 6;\nvar t : rational = -2 / 6;\nvar u : rational = 80%;\nvar v : rational = 4.2%;\n")),Object(o.b)("h3",{id:"deploy"},"Deploy"),Object(o.b)("p",null,"The following ",Object(o.b)(c.a,{to:"/docs/cli",mdxType:"Link"},"Completium CLI")," command deploys the contract on the Tezos network:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"completium-cli deploy 3-rat_transfer.arl\n")),Object(o.b)("h3",{id:"call-entry-point"},"Call entry point"),Object(o.b)("p",null,"The following command calls the unique entry point and sends ",Object(o.b)("em",{parentName:"p"},"10tz")," to the contract with the ",Object(o.b)("inlineCode",{parentName:"p"},"--amount")," option:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"completium-cli call 3-rat_transfer --amount 10tz\n")),Object(o.b)("h3",{id:"view-contract"},"View contract"),Object(o.b)("p",null,"The following command generates the URL to view the contract in Better call Dev:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"completium-cli show contract 3-rat_transfer\n")),Object(o.b)("h3",{id:"next"},"Next"),Object(o.b)("p",null,"Open '4-time_window.arl' and click on \"Next: Dates & Durations\" below."))}b.isMDXComponent=!0}}]);