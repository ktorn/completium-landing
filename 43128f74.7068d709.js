(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{116:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return d})),a.d(t,"metadata",(function(){return p})),a.d(t,"toc",(function(){return b})),a.d(t,"default",(function(){return u}));var o=a(3),n=a(7),i=(a(0),a(204)),r=(a(205),a(207)),c=a(208),s=a(206),d={id:"ideabox4",title:"Register Voter",sidebar_label:"Register voter",slug:"/dapp-ideabox/registervoter"},p={unversionedId:"dapp-ideabox/ideabox4",id:"dapp-ideabox/ideabox4",isDocsHomePage:!1,title:"Register Voter",description:"In order to vote for an idea, it is first required that the contract's admin account registers the voter address. Indeed the vote entry point checks that the caller is registered, otherwise it fails.",source:"@site/docs/dapp-ideabox/ideabox4.md",slug:"/dapp-ideabox/registervoter",permalink:"/docs/dapp-ideabox/registervoter",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/dapp-ideabox/ideabox4.md",version:"current",sidebar_label:"Register voter",sidebar:"ideabox",previous:{title:"Use Case Presentation",permalink:"/docs/dapp-ideabox/presentation"},next:{title:"Add an Idea or Vote",permalink:"/docs/dapp-ideabox/addidea"}},b=[{value:"Import admin account",id:"import-admin-account",children:[]},{value:"Register transaction",id:"register-transaction",children:[]}],l={toc:b};function u(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"In order to vote for an idea, it is first required that the contract's admin account registers the voter address. Indeed the ",Object(i.b)(s.a,{to:"/docs/dapp-ideabox/implementation#vote",mdxType:"Link"},"vote")," entry point checks that the ",Object(i.b)("inlineCode",{parentName:"p"},"caller")," is registered, otherwise it fails."),Object(i.b)("p",null,"To do so, it is necessary to call the ",Object(i.b)(s.a,{to:"/docs/dapp-ideabox/interface#register",mdxType:"Link"},"register")," entry point of the smart contract. This entry point may only be called by the contract's admin account at address ",Object(i.b)("inlineCode",{parentName:"p"},"tz1MZrh8CvYkp7BfLQMcm6mg5FvL5HRZfACw"),". The section below presents how to import this account in the wallet."),Object(i.b)("h2",{id:"import-admin-account"},"Import admin account"),Object(i.b)("p",null,"The process to is two-steps:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"download the admin faucet file (",Object(i.b)(s.a,{to:"/docs/dapp-tools/faucet#admin-account",mdxType:"Link"},"instructions"),")"),Object(i.b)("li",{parentName:"ol"},"import it in wallet (",Object(i.b)(s.a,{to:"/docs/dapp-tools/thanos#import-faucet-file",mdxType:"Link"},"instructions"),")")),Object(i.b)("p",null,'It is suggested that you name that account "Admin" for ease of use.'),Object(i.b)("h2",{id:"register-transaction"},"Register transaction"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"register")," entry point, called by the admin account, takes the voter account address as parameter."),Object(i.b)("p",null,"The contract is available at this address:"),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{}),"KT1QMowNVCUngertU7bAeoZmU7XYm3gphE69\n")),Object(i.b)("p",null,"This section presents how to invoke the ",Object(i.b)("inlineCode",{parentName:"p"},"register")," entry point with the smart contract indexer ",Object(i.b)(s.a,{to:"/docs/dapp-tools/bcd",mdxType:"Link"},"Better Call Dev"),". Click the button blow to open the smart contract:"),Object(i.b)(c.a,{url:"https://better-call.dev/delphinet/KT1QMowNVCUngertU7bAeoZmU7XYm3gphE69/operations",txt:"open smart contract",mdxType:"DappButton"}),Object(i.b)("p",null,'Click on the "Interact" tab and enter the parameters as presented above.'),Object(i.b)("p",null,"Below is an example screenshot (with parameter set to ",Object(i.b)("inlineCode",{parentName:"p"},"tz1dZydwVDuz6SH5jCUfCQjqV8YCQimL9GCp"),") of the interact panel:"),Object(i.b)(r.a,{img:"bcd-ideabox.png",width:"100%",mdxType:"DappFigure"}),Object(i.b)("p",null,"If you don't have a dedicated user account, go to this ",Object(i.b)(s.a,{to:"/docs/dapp-ideabox/presentation#create-a-user-account",mdxType:"Link"},"previous section"),"."),Object(i.b)("p",null,'Once user address set, click on the "Execute" button and select "Thanos". A confirm popup should be displayed:'),Object(i.b)(r.a,{img:"bcd-ideabox2.png",width:"60%",mdxType:"DappFigure"}),Object(i.b)("p",null,'You may check the transation parameters in the "Operations" section:'),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-json"}),'[{\n    "kind":"transaction"\n    "to":"KT1QMowNVCUngertU7bAeoZmU7XYm3gphE69"\n    "amount":0\n    "mutez":true\n    "parameter":{\n        "entrypoint":"register"\n        "value":{\n            "string":"tz1dZydwVDuz6SH5jCUfCQjqV8YCQimL9GCp"\n        }\n    }\n}]\n')),Object(i.b)("p",null,"Once sent, the transaction should take a minute to be confirmed. When confirmed, you may click on 'storage' tab to visualize the contract storage and check that your user account is in the voters' list:"),Object(i.b)(r.a,{img:"bcd-ideabox3.png",width:"100%",mdxType:"DappFigure"}),Object(i.b)("p",null,"Next step is to go to the user interface to vote for or add a new idea!"))}u.isMDXComponent=!0},205:function(e,t,a){"use strict";a(0),a(209)}}]);