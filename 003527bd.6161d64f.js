(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{72:function(t,e,o){"use strict";o.r(e),o.d(e,"frontMatter",(function(){return r})),o.d(e,"metadata",(function(){return i})),o.d(e,"toc",(function(){return l})),o.d(e,"default",(function(){return d}));var a=o(3),s=o(7),c=(o(0),o(197)),n=o(199),r={id:"tuto9",title:"Testing a contract",sidebar_label:"9. Testing a contract",slug:"/dapp-tools/tutorials/archetype-test"},i={unversionedId:"dapp-tools/tutorials/tuto9",id:"dapp-tools/tutorials/tuto9",isDocsHomePage:!1,title:"Testing a contract",description:"In this exercise, a test is written to test the asset contract (step 7).",source:"@site/docs/dapp-tools/tutorials/tuto9.md",slug:"/dapp-tools/tutorials/archetype-test",permalink:"/docs/dapp-tools/tutorials/archetype-test",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/dapp-tools/tutorials/tuto9.md",version:"current",sidebar_label:"9. Testing a contract",sidebar:"tools",previous:{title:"Call another Contract",permalink:"/docs/dapp-tools/tutorials/archetype-callcontr"},next:{title:"React",permalink:"/docs/dapp-tools/react"}},l=[{value:"Code",id:"code",children:[]},{value:"Excute",id:"excute",children:[]}],p={toc:l};function d(t){var e=t.components,o=Object(s.a)(t,["components"]);return Object(c.b)("wrapper",Object(a.a)({},p,o,{components:e,mdxType:"MDXLayout"}),Object(c.b)("p",null,"In this exercise, a test is written to test the ",Object(c.b)(n.a,{to:"/docs/dapp-tools/tutorials/archetype-assets",mdxType:"Link"},"asset")," contract (step 7)."),Object(c.b)("p",null,"The test is written in javascript with the ",Object(c.b)(n.a,{to:"/docs/dapp-tools/taquito",mdxType:"Link"},"Taquito")," library and executed with node."),Object(c.b)("h2",{id:"code"},"Code"),Object(c.b)("p",null,"The goal is to originate the contract from archetype source and to call the entry points in order to check the resulating contract storage. The test succeeds if the storage has in a specific state."),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"const { TezosToolkit } = require('@taquito/taquito');\nconst tezos = new TezosToolkit('https://api.tez.ie/rpc/edonet');\n\ntezos.tz\n  .getBalance('tz1h3rQ8wBxFd8L9B3d7Jhaawu6Z568XU3xY')\n  .then((balance) => console.log(`${balance.toNumber() / 1000000} \ua729`))\n  .catch((error) => console.log(JSON.stringify(error)));\n")),Object(c.b)("h2",{id:"excute"},"Excute"),Object(c.b)("pre",null,Object(c.b)("code",Object(a.a)({parentName:"pre"},{}),"")))}d.isMDXComponent=!0}}]);