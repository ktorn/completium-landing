(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{76:function(e,t,c){"use strict";c.r(t),c.d(t,"frontMatter",(function(){return l})),c.d(t,"metadata",(function(){return r})),c.d(t,"toc",(function(){return i})),c.d(t,"default",(function(){return p}));var n=c(3),a=(c(0),c(224)),o=c(225);const l={id:"cli3",title:"Contract",sidebar_label:"Contract",slug:"/cli/contract"},r={unversionedId:"cli/cli3",id:"cli/cli3",isDocsHomePage:!1,title:"Contract",description:"Contract",source:"@site/docs/cli/cli3.md",slug:"/cli/contract",permalink:"/docs/cli/contract",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/cli/cli3.md",version:"current",sidebar_label:"Contract",sidebar:"cli",previous:{title:"Account",permalink:"/docs/cli/account"}},i=[{value:"Contract",id:"contract",children:[{value:"Deploy / originate",id:"deploy--originate",children:[]},{value:"Show",id:"show",children:[]},{value:"Call",id:"call",children:[]},{value:"Generate javascript",id:"generate-javascript",children:[]}]}],b={toc:i};function p({components:e,...t}){return Object(a.b)("wrapper",Object(n.a)({},b,t,{components:e,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"contract"},"Contract"),Object(a.b)("h3",{id:"deploy--originate"},"Deploy / originate"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{}),"$ completium-cli deploy <FILE.arl> \\\n    [--as <ACCOUNT_ALIAS>] \\\n    [--named <CONTRACT_ALIAS>] \\\n    [--amount <AMOUNT>(tz|utz)] \\\n    [--burn-cap <BURN_CAP>] \\\n    [--force]\n")),Object(a.b)("p",null,"For example:"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{}),"$ completium-cli deploy mycontract.arl --amount 15.5tz\n")),Object(a.b)("p",null,"This creates a contract alias ",Object(a.b)("inlineCode",{parentName:"p"},"mycontract"),"."),Object(a.b)("h3",{id:"show"},"Show"),Object(a.b)("h4",{id:"info"},"Info"),Object(a.b)("p",null,"It is possible to show data related to a contract alias:"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{}),"$ completium-cli show contract <CONTRACT_ALIAS>\n")),Object(a.b)("p",null,"For example:"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"$ completium-cli show contract demo\nName:     demo\nNetwork:  edo\nAddress:  KT1CQmaCLLdEQ3X9PmxoqEAy3Xusvs1J5wW1\nSource:   /home/dev/.completium/sources/demo.arl\nLanguage: archetype\nVersion:  1.2.2\nUrl:      https://better-call.dev/edo2net/KT1CQmaCLLdEQ3X9PmxoqEAy3Xusvs1J5wW1\n")),Object(a.b)("h4",{id:"all-contracts"},"All contracts"),Object(a.b)("p",null,"The following command lists all contracts managed by ",Object(a.b)("inlineCode",{parentName:"p"},"$completium-cli"),":"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{}),"completium-cli show contracts\n")),Object(a.b)("h4",{id:"source"},"Source"),Object(a.b)("p",null,"It is possible to show the contract source with:"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{}),"$ completium-cli show source <CONTRACT_ALIAS>\n")),Object(a.b)("h4",{id:"entries"},"Entries"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{}),"completium-cli show entries <CONTRACT_ADDRESS|CONTRACT_ALIAS>\n")),Object(a.b)("p",null,"The command also works with a remote contract address:"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{}),"completium-cli show entries KT1EFgRdrT4r6QLx2riZiPNHjo7gcQM8n7f7\n%confirm (_ : unit)\n%submit (%ckey : address, %pscore : int)\n%decide (_ : unit)\n")),Object(a.b)("h3",{id:"call"},"Call"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{}),"$ completium-cli call <CONTRACT_ADDRESS|CONTRACT_ALIAS> \\\n  [--as <ACCOUNT_ALIAS>] \\\n  [--entry <ENTRYPOINT>] \\\n  [--with <ARG>] \\\n  [--amount <AMOUNT>(tz|utz)]\n")),Object(a.b)("p",null,"For example, if ",Object(a.b)("inlineCode",{parentName:"p"},"mycontract.arl")," defines an entry point ",Object(a.b)("inlineCode",{parentName:"p"},"payback"),":"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{className:"language-archetype"}),"entry payback (n : int) {\n  // ...\n}\n")),Object(a.b)("p",null,"The command to call the entry is:"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{}),"$ completium-cli call mycontract --entry payback --with 5\n")),Object(a.b)("h3",{id:"generate-javascript"},"Generate javascript"),Object(a.b)("p",null,"The javascript verion of the contract is required when a DApp is originating the contract using ",Object(a.b)(o.a,{to:"/docs/dapp-tools/taquito",mdxType:"Link"},"Taquito"),"."),Object(a.b)("p",null,"The command to generate the javascript version is:"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{}),"completium-cli generate javascript <FILE.arl|CONTRACT_ALIAS>\n")),Object(a.b)("p",null,"For example:"),Object(a.b)("pre",null,Object(a.b)("code",Object(n.a)({parentName:"pre"},{}),"$ completium-cli generate javascript mycontract.arl > mycontract.js\n")),Object(a.b)("p",null,"The generated ",Object(a.b)("inlineCode",{parentName:"p"},"mycontract.js")," file exports:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"the Micheline/Json ",Object(a.b)("inlineCode",{parentName:"li"},"code")," of the contract"),Object(a.b)("li",{parentName:"ul"},"the ",Object(a.b)("inlineCode",{parentName:"li"},"getStorage")," method to build the initial storage")),Object(a.b)("p",null,"See ",Object(a.b)(o.a,{to:"/docs/dapp-tools/taquito#contract-origination",mdxType:"Link"},"here")," an example of how to use in a DApp."))}p.isMDXComponent=!0}}]);